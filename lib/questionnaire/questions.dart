// lib/questionnaire/questions.dart

class Question {
  final String id;
  final String title;
  final List<String> options;
  final bool Function(Map<String, dynamic> answers) showIf;
  final String? explanation;
  final String? Function(dynamic answer)? feedback;
  final bool multi;
  final String inputType; // 'select' | 'number' | 'text'
  final int? maxSelections; // ××’×‘×œ×ª ×‘×—×™×¨×•×ª ××¨×•×‘×•×ª

  const Question({
    required this.id,
    required this.title,
    required this.options,
    required this.showIf,
    this.explanation,
    this.feedback,
    this.multi = false,
    this.inputType = 'select',
    this.maxSelections,
  });
}

final List<Question> allQuestions = [
  // ×§×‘×•×¦×” 1: ×¤×¨×˜×™× ×‘×¡×™×¡×™×™×
  Question(
      id: 'age',
      title: '×‘×Ÿ/×‘×ª ×›××” ××ª/×”?',
      options: [],
      showIf: (_) => true,
      explanation: '×’×™×œ××™ 16-90. ××•×ª×× ×œ×¨××•×ª ×§×•×©×™ ×•××¢×§×‘ ×”×ª×§×“××•×ª.',
      inputType: 'number',
      feedback: (answer) {
        if (answer != null && answer < 16) return '×”××¤×œ×™×§×¦×™×” ××™×•×¢×“×ª ×œ×’×™×œ××™ 16+';
        if (answer != null && answer > 90)
          return '××•××œ×¥ ×œ×”×ª×™×™×¢×¥ ×¢× ×¨×•×¤× ×œ×¤× ×™ ×ª×—×™×œ×ª ××™××•× ×™×';
        return null;
      }),

  Question(
    id: 'height',
    title: '××” ×”×’×•×‘×” ×©×œ×š (×‘×¡"×)?',
    options: [],
    showIf: (_) => true,
    explanation: '×œ×—×™×©×•×‘ ×™×—×¡×™ ×’×•×£ ×•×™×¢×“×™× ××•×ª×××™×.',
    inputType: 'number',
  ),

  Question(
    id: 'weight',
    title: '××” ×”××©×§×œ ×©×œ×š (×‘×§"×’)?',
    options: [],
    showIf: (_) => true,
    explanation: '×œ×—×™×©×•×‘ ×¢×¦×™××•×ª ×•×”×ª×××ª ×¢×•××¡×™×.',
    inputType: 'number',
  ),

  // ×§×‘×•×¦×” 2: ×¨×§×¢ ×•××˜×¨×•×ª
  Question(
    id: 'exercise_break',
    title: '×”×× ×”×ª××× ×ª ×‘×—×¦×™ ×©× ×” ×”××—×¨×•× ×”?',
    options: [
      '×›×Ÿ, ×‘××•×¤×Ÿ ×§×‘×•×¢ (3+ ×¤×¢××™× ×‘×©×‘×•×¢)',
      '×›×Ÿ, ×œ×¡×™×¨×•×’×™×Ÿ (1-2 ×¤×¢××™× ×‘×©×‘×•×¢)',
      '×œ×, ×”×™×™×ª×” ×œ×™ ×”×¤×¡×§×”',
      '××¢×•×œ× ×œ× ×”×ª××× ×ª×™'
    ],
    showIf: (_) => true,
    explanation: '×œ×”×‘× ×ª × ×§×•×“×ª ×”×”×ª×—×œ×” ×•×‘× ×™×™×ª ×¢×•××¡×™× ××ª××™××™×.',
    feedback: (answer) {
      if (answer == '×œ×, ×”×™×™×ª×” ×œ×™ ×”×¤×¡×§×”' || answer == '××¢×•×œ× ×œ× ×”×ª××× ×ª×™') {
        return '××¦×•×™×Ÿ ×©×”×—×œ×˜×ª ×œ×”×ª×—×™×œ! × ×‘× ×” ×ª×•×›× ×™×ª ×”×“×¨×’×ª×™×ª ğŸ’ª';
      }
      if (answer == '×›×Ÿ, ×‘××•×¤×Ÿ ×§×‘×•×¢ (3+ ×¤×¢××™× ×‘×©×‘×•×¢)') {
        return '× ×”×“×¨! × ×•×›×œ ×œ××ª×’×¨ ××•×ª×š ×‘×¨××•×ª ×’×‘×•×”×•×ª ×™×•×ª×¨ ğŸš€';
      }
      return null;
    },
  ),

  Question(
    id: 'goal',
    title: '××” ×”××˜×¨×” ×”××¨×›×–×™×ª ×©×œ×š?',
    options: [
      '×™×¨×™×“×” ×‘××©×§×œ',
      '×¢×œ×™×™×” ×‘××¡×ª ×©×¨×™×¨',
      '×—×™×˜×•×‘ ×•×¢×™×¦×•×‘ ×”×’×•×£',
      '×©×™×¤×•×¨ ×›×•×©×¨ ×’×•×¤× ×™ ×›×œ×œ×™',
      '×©×™×¤×•×¨ ×‘×¨×™××•×ª ×•×—×™×•× ×™×•×ª'
    ],
    showIf: (_) => true,
    explanation: '×”××˜×¨×” ×§×•×‘×¢×ª ××ª ×¡×•×’ ×”×ª×•×›× ×™×ª ×•×”×“×’×©×™×.',
    feedback: (answer) {
      switch (answer) {
        case '×™×¨×™×“×” ×‘××©×§×œ':
          return '× ×‘× ×” ×ª×•×›× ×™×ª ×”××©×œ×‘×ª ××™××•× ×™ ×›×•×— ×•××™×¨×•×‘×™ ğŸƒâ€â™‚ï¸';
        case '×¢×œ×™×™×” ×‘××¡×ª ×©×¨×™×¨':
          return '×ª×•×›× ×™×ª ×›×•×— ×¤×¨×•×’×¨×¡×™×‘×™×ª ×‘×“×¨×š! ğŸ’ª';
        case '×—×™×˜×•×‘ ×•×¢×™×¦×•×‘ ×”×’×•×£':
          return '×©×™×œ×•×‘ ××•×©×œ× ×©×œ ×›×•×— ×•×¡×™×‘×•×œ×ª ×œ×—×™×˜×•×‘ ğŸ¯';
        default:
          return null;
      }
    },
  ),

  Question(
    id: 'goal_timeline',
    title: '×‘××™×–×” ×§×¦×‘ ×ª×¨×¦×” ×œ×”×ª×§×“×?',
    options: [
      '××”×™×¨ ×•××™× ×˜× ×¡×™×‘×™ - ×ª×•×¦××•×ª ××”×™×¨×•×ª',
      '××ª×•×Ÿ ×•×‘×˜×•×— - ×”×ª×§×“××•×ª ×”×“×¨×’×ª×™×ª',
      '××™×˜×™ ×•× ×™× ×•×— - ×œ×œ× ×œ×—×¥'
    ],
    showIf: (answers) => answers.containsKey('goal'),
    explanation: '×”×§×¦×‘ ××©×¤×™×¢ ×¢×œ ×¢×¦×™××•×ª ×•×ª×“×™×¨×•×ª ×”××™××•× ×™×.',
    feedback: (answer) {
      if (answer == '××”×™×¨ ×•××™× ×˜× ×¡×™×‘×™ - ×ª×•×¦××•×ª ××”×™×¨×•×ª') {
        return '××•×›× ×™× ×œ×¢×‘×•×“ ×§×©×”! ×–×›×•×¨ - ×”×ª××•×©×©×•×ª ×—×©×•×‘×” ×œ× ×¤×—×•×ª âš¡';
      }
      return null;
    },
  ),

  // ×§×‘×•×¦×” 3: ×–××™× ×•×ª ×•×¦×™×•×“
  Question(
    id: 'frequency',
    title: '×›××” ×¤×¢××™× ×‘×©×‘×•×¢ ×ª×•×›×œ ×œ×”×ª×××Ÿ?',
    options: ['1-2 ×¤×¢××™×', '3-4 ×¤×¢××™×', '5-6 ×¤×¢××™×', '×›×œ ×™×•×'],
    showIf: (_) => true,
    explanation: '××™× ×™××•× 2 ×¤×¢××™× ×‘×©×‘×•×¢ ×œ×ª×•×¦××•×ª ××©××¢×•×ª×™×•×ª.',
    feedback: (answer) {
      if (answer == '1-2 ×¤×¢××™×') {
        return '× ××§×¡× ××ª ×”×™×¢×™×œ×•×ª ×‘×›×œ ××™××•×Ÿ! ğŸ¯';
      }
      if (answer == '3-4 ×¤×¢××™×') {
        return '×ª×“×™×¨×•×ª ××™×“×™××œ×™×ª ×œ×”×ª×§×“××•×ª ××¦×•×™× ×ª! ğŸ‘';
      }
      return null;
    },
  ),

  Question(
    id: 'workout_duration',
    title: '×›××” ×–××Ÿ ×ª×•×›×œ ×œ×”×§×“×™×© ×œ×›×œ ××™××•×Ÿ?',
    options: ['×¢×“ 30 ×“×§×•×ª', '30-45 ×“×§×•×ª', '45-60 ×“×§×•×ª', '××¢×œ ×©×¢×”'],
    showIf: (_) => true,
    explanation: '× ×ª××™× ××ª ×”×ª×•×›× ×™×ª ×œ×—×œ×•×Ÿ ×”×–××Ÿ ×©×œ×š.',
  ),

  Question(
    id: 'equipment',
    title: '××™×¤×” ×ª×ª×××Ÿ ×‘×“×¨×š ×›×œ×œ?',
    options: [
      '×‘×‘×™×ª - ×œ×œ× ×¦×™×•×“',
      '×‘×‘×™×ª - ×¢× ×¦×™×•×“ ×‘×¡×™×¡×™',
      '×—×“×¨ ×›×•×©×¨ ×‘×™×ª×™ ×××•×‘×–×¨',
      '××›×•×Ÿ ×›×•×©×¨ ××§×¦×•×¢×™'
    ],
    showIf: (_) => true,
    explanation: '× ×‘× ×” ×ª×•×›× ×™×ª ×”××ª××™××” ×œ×¡×‘×™×‘×ª ×”××™××•×Ÿ ×©×œ×š.',
  ),

  // ×©××œ×” ××•×ª× ×™×ª - ×¨×§ ×× ×œ× ×‘×—×¨×• ××›×•×Ÿ ×›×•×©×¨
  Question(
    id: 'home_equipment',
    title: '××™×–×” ×¦×™×•×“ ×™×© ×œ×š ×‘×‘×™×ª?',
    options: [
      '×’×•××™×•×ª ×”×ª× ×’×“×•×ª',
      '××©×§×•×œ×•×ª/×“××‘×œ×™×',
      '×§×˜×œ×‘×œ',
      '××•×˜ ×›×•×©×¨',
      '×¡×¤×¡×œ ××™××•× ×™×',
      '××ª×§×Ÿ ××ª×—',
      'TRX/×¨×¦×•×¢×•×ª',
      '××–×¨×Ÿ ×™×•×’×”'
    ],
    showIf: (answers) =>
        answers['equipment'] == '×‘×‘×™×ª - ×¢× ×¦×™×•×“ ×‘×¡×™×¡×™' ||
        answers['equipment'] == '×—×“×¨ ×›×•×©×¨ ×‘×™×ª×™ ×××•×‘×–×¨',
    explanation: '× ×•×•×“× ×©×›×œ ×”×ª×¨×’×™×œ×™× ××ª××™××™× ×œ×¦×™×•×“ ×©×œ×š.',
    multi: true,
  ),

  // ×§×‘×•×¦×” 4: ××’×‘×œ×•×ª ×•×‘×¨×™××•×ª
  Question(
    id: 'health_limitations',
    title: '×”×× ×™×© ××’×‘×œ×•×ª ×‘×¨×™××•×ª×™×•×ª ×©×›×“××™ ×œ×“×¢×ª ×¢×œ×™×”×Ÿ?',
    options: [
      '××™×Ÿ ××’×‘×œ×•×ª',
      '×‘×¢×™×•×ª ×’×‘/×¢××•×“ ×©×“×¨×”',
      '×‘×¢×™×•×ª ×‘×¨×›×™×™×',
      '×‘×¢×™×•×ª ×›×ª×¤×™×™×',
      '×œ×—×¥ ×“× ×’×‘×•×”',
      '×¡×•×›×¨×ª',
      '××—×¨ - ××¤×¨×˜ ×‘×”××©×š'
    ],
    showIf: (_) => true,
    explanation: '×—×©×•×‘ ×œ× ×• ×œ×©××•×¨ ×¢×œ ×”×‘×¨×™××•×ª ×©×œ×š.',
    multi: true,
    feedback: (answer) {
      if (answer != null && (answer as List).contains('××™×Ÿ ××’×‘×œ×•×ª')) {
        return '××¢×•×œ×”! × ×•×›×œ ×œ×”×©×ª××© ×‘××’×•×•×Ÿ ×¨×—×‘ ×©×œ ×ª×¨×’×™×œ×™× ğŸ’ª';
      }
      return '× ×ª××™× ××ª ×”×ª×•×›× ×™×ª ×œ××’×‘×œ×•×ª ×©×¦×™×™× ×ª ğŸ›¡ï¸';
    },
  ),

  Question(
    id: 'experience_level',
    title: '××” ×¨××ª ×”× ×™×¡×™×•×Ÿ ×©×œ×š ×‘××™××•× ×™×?',
    options: [
      '××ª×—×™×œ ××•×—×œ×˜',
      '××ª×—×™×œ ×¢× × ×™×¡×™×•×Ÿ ×‘×¡×™×¡×™',
      '××ª×××Ÿ ×‘×™× ×•× ×™',
      '××ª×§×“×',
      '×× ×•×¡×” ×××•×“'
    ],
    showIf: (_) => true,
    explanation: '×œ×”×ª×××ª ××•×¨×›×‘×•×ª ×”×ª×¨×’×™×œ×™× ×•×”×˜×›× ×™×§×”.',
  ),

  // ×§×‘×•×¦×” 5: ×”×¢×“×¤×•×ª (××•×¤×¦×™×•× ×œ×™)
  Question(
    id: 'body_focus',
    title: '×™×© ××–×•×¨×™× ×¡×¤×¦×™×¤×™×™× ×©×ª×¨×¦×” ×œ×—×–×§?',
    options: ['×¤×œ×’ ×’×•×£ ×¢×œ×™×•×Ÿ', '×¤×œ×’ ×’×•×£ ×ª×—×ª×•×Ÿ', '×œ×™×‘×” ×•×‘×˜×Ÿ', '×’×•×£ ××œ× - ×××•×–×Ÿ'],
    showIf: (answers) =>
        answers['goal'] == '×—×™×˜×•×‘ ×•×¢×™×¦×•×‘ ×”×’×•×£' ||
        answers['goal'] == '×¢×œ×™×™×” ×‘××¡×ª ×©×¨×™×¨',
    explanation: '×‘×—×¨ ×¢×“ 2 ××–×•×¨×™ ××™×§×•×“.',
    multi: true,
    maxSelections: 2,
  ),

  Question(
    id: 'workout_style_preference',
    title: '××™×–×” ×¡×’× ×•×Ÿ ××™××•×Ÿ ××“×‘×¨ ××œ×™×š?',
    options: [
      '××™××•× ×™ ×›×•×— ××¡×•×¨×ª×™×™×',
      '××™××•× ×™× ×¤×•× ×§×¦×™×•× ×œ×™×™×',
      'HIIT ×•××™× ×˜×¨×•×•×œ×™×',
      '××™××•× ×™ ×¡×™×‘×•×œ×ª',
      '×©×™×œ×•×‘ ××’×•×•×Ÿ'
    ],
    showIf: (_) => true,
    explanation: '× ×©×œ×‘ ××ª ×”×¡×’× ×•×Ÿ ×”××•×¢×“×£ ×‘×ª×•×›× ×™×ª.',
    multi: true,
    maxSelections: 2,
  ),

  Question(
    id: 'avoid_exercises',
    title: '×™×© ×ª×¨×’×™×œ×™× ×©×ª×¢×“×™×£ ×œ×”×™×× ×¢ ××”×?',
    options: [
      '×¡×§×•×•××˜',
      '×“×“×œ×™×¤×˜',
      '×¢×œ×™×•×ª ××ª×—',
      '×œ×—×™×¦×ª ×—×–×”',
      '×ª×¨×’×™×œ×™ ×‘×˜×Ÿ ×¢×œ ×”×¨×¦×¤×”',
      '×¨×™×¦×”/×§×¤×™×¦×•×ª',
      '××™×Ÿ ×”×¢×“×¤×” ××™×•×—×“×ª'
    ],
    showIf: (_) => true,
    explanation: '× ××¦× ×—×œ×•×¤×•×ª ××ª××™××•×ª ×œ×›×œ ×ª×¨×’×™×œ.',
    multi: true,
  ),

  // ×©××œ×” ××—×¨×•× ×” - ×ª×–×•× ×”
  Question(
    id: 'nutrition_guidance',
    title: '×”×× ×ª×¨×¦×” ×’× ×”×“×¨×›×” ×ª×–×•× ×ª×™×ª?',
    options: ['×›×Ÿ, ×”×“×¨×›×” ××œ××”', '×¨×§ ×˜×™×¤×™× ×‘×¡×™×¡×™×™×', '×œ×, ×¨×§ ××™××•× ×™×'],
    showIf: (answers) =>
        answers['goal'] == '×™×¨×™×“×” ×‘××©×§×œ' ||
        answers['goal'] == '×¢×œ×™×™×” ×‘××¡×ª ×©×¨×™×¨' ||
        answers['goal'] == '×—×™×˜×•×‘ ×•×¢×™×¦×•×‘ ×”×’×•×£',
    explanation: '×ª×–×•× ×” × ×›×•× ×” ×”×™× 70% ××”×”×¦×œ×—×”!',
    feedback: (answer) {
      if (answer == '×›×Ÿ, ×”×“×¨×›×” ××œ××”') {
        return '× ×›×œ×•×œ ×”××œ×¦×•×ª ×ª×–×•× ×” ××•×ª×××•×ª ××™×©×™×ª! ğŸ¥—';
      }
      return null;
    },
  ),
];
